<!DOCTYPE html>
<html lang="en">

<head>

    <!-- SITE TITTLE -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Larping</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-9ZfPnbegQSumzaE7mks2IYgHoayLtuto3AS6ieArECeaR8nCfliJVuLh/GaQ1gyM" crossorigin="anonymous">

    <!-- PLUGINS CSS STYLE -->
    <link href="/bundles/listy/plugins/listtyicons/style.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/menuzord/css/menuzord.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/map/css/map.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/dzsparallaxer/dzsparallaxer.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/owl-carousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/owl-carousel/assets/owl.theme.default.min.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/revolution/css/settings.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/map/css/map.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/rateyo/jquery.rateyo.min.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/daterangepicker/daterangepicker.css" rel="stylesheet">
    <link href="/bundles/listy/plugins/selectric/selectric.css" rel="stylesheet">

    <link href="/bundles/listy/plugins/fancybox/jquery.fancybox.min.css" rel="stylesheet">

    <!-- SELECT2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />

    <!-- GOOGLE FONT -->
    <link href="https://fonts.googleapis.com/css?family=Muli:200,300,400,600,700,800,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

    <!-- CUSTOM CSS -->
    <link href="/bundles/listy/css/style.css" rel="stylesheet" id="option_style">

    <!-- <link rel="stylesheet" href="/bundles/listy/css/default.css" id="option_color"> -->

    <!-- FAVICON -->
    <link href="/bundles/listy/img/favicon.png" rel="shortcut icon">

    <!-- include jquery and bootstrap (here because summernote needs it in header) -->
    <script src="/bundles/listy/plugins/jquery/jquery-3.4.1.min.js"></script>
    <script src="/bundles/listy/plugins/bootstrap/js/bootstrap.bundle.js"></script>

    <!-- include summernote css/js -->
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>


    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Bootstrap select -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" />

    <link href="/css/custom.css" rel="stylesheet">

    <style>
        body {
            font-family: 'FontAwesome', "Muli", sans-serif;
        }

        .selectric .label {
            margin-right: 10px !important;
        }
    </style>


</head>

<body id="body" class="up-scroll">

<!-- Preloader -->
<div id="preloader" class="smooth-loader-wrapper">
    <div class="smooth-loader">
        <div class="loader1">
            <div class="loader-target">
                <div class="loader-target-main"></div>
                <div class="loader-target-inner"></div>
            </div>
        </div>
    </div>
</div>

<div class="main-wrapper">

    {% include 'header.html.twig' %}

    {% set flashes = [] %}
    {% for label, messages in app.flashes() %}
        {% for message in messages %}
            {% if message not in flashes %}
                {% set flashes = flashes|merge([message]) %}
                <div class="alert alert-{% if label == 'error' %}{% set label = 'danger' %}{% endif %}{{ label }} rounded-0 mb-0">
                    <div class="container-md">
                        <div class="row">
                            <div class="col-12">
                                <!-- Text -->
                                <p class="text-center mb-0">
                                    {{ message|trans|capitalize }}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    {% endfor %}

    {% block content %}

    {% endblock %}

</div> <!-- element wrapper ends -->

{% if hidefooter is not defined or hidefooter is empty %}
{% include 'footer.html.twig' %}
{% endif %}

<!-- JAVASCRIPTS -->

<script src="/bundles/listy/plugins/menuzord/js/menuzord.js"></script>
<script src="/bundles/listy/plugins/selectric/jquery.selectric.min.js"></script>
<script src="/bundles/listy/plugins/dzsparallaxer/dzsparallaxer.js"></script>
<script src="/bundles/listy/plugins/dzsparallaxer/dzsparallaxer.js"></script>
<script src="/bundles/listy/plugins/isotope/isotope.pkgd.min.js"></script>
<script src="/bundles/listy/plugins/revolution/js/jquery.themepunch.tools.min.js"></script>
<script src="/bundles/listy/plugins/revolution/js/jquery.themepunch.revolution.min.js"></script>
<script src="/bundles/listy/plugins/smoothscroll/SmoothScroll.js"></script>
<script src="/bundles/listy/plugins/owl-carousel/owl.carousel.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAWklIAhbeyYWWX5cJLOaNW3qw9PErDjLg"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>

<script src="/bundles/listy/plugins/map/js/markerclusterer.js"></script>
<script src="/bundles/listy/plugins/map/js/rich-marker.js"></script>
<script src="/bundles/listy/plugins/map/js/infobox_packed.js"></script>
<script src="/bundles/listy/js/map.js"></script>
<script src="/bundles/listy/js/listty.js"></script>

<!-- Bootstrap-select -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

<script>

    // select2 multiselect
    $(document).ready(function() {
        $('.select-multiple').select2({
            placeholder:'select',
            multiple:true
        });
    });

    function likeItem(id, resource, organization, item){
        var liked = item.getAttribute("liked");

        // Let update the ui
        if(liked == "false"){
            document.getElementById("counter_" + id).textContent = Number(document.getElementById("counter_" + id).textContent) + 1;
            document.getElementById("icon_" + id).classList.remove('fal') ;
            document.getElementById("icon_" + id).classList.add('fas') ;
            item.setAttribute("liked","true");
            console.log("liked " + id);
        }
        else {
            document.getElementById("counter_" + id).textContent = Number(document.getElementById("counter_" + id).textContent) - 1;
            document.getElementById("icon_" + id).classList.remove('fas') ;
            document.getElementById("icon_" + id).classList.add('fal') ;
            item.setAttribute("liked","false");
            console.log("unliked " + id);
        }

        // And then fire an ajax to do the actual work
        $.ajax({
            type: "POST",
            url: "/like",
            data: {
                resource: resource,
                organization: organization
            },
            dataType: "json",
            complete: function (response) {
                console.log(response.responseText);
                console.log("All done");
            }
        });
    }
</script>

</body>
</html>

